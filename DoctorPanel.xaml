<Window x:Class="Diabetes_Tracking_System_new.DoctorPanel"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Diabetes_Tracking_System_new"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        mc:Ignorable="d"
        Title="DoctorPanel" Height="1093" >
    <Window.Resources>
        
        <!-- Color Resources - Enhanced color scheme -->
        <SolidColorBrush x:Key="PrimaryColor" Color="#2E7D32"/>
        <SolidColorBrush x:Key="SecondaryColor" Color="#455A64"/>
        <SolidColorBrush x:Key="AccentColor" Color="#4CAF50"/>
        <SolidColorBrush x:Key="BackgroundColor" Color="#F5F7FA"/>
        <SolidColorBrush x:Key="CardColor" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextColor" Color="#263238"/>
        <SolidColorBrush x:Key="LightTextColor" Color="#78909C"/>
        <SolidColorBrush x:Key="BorderColor" Color="#E0E0E0"/>
        <SolidColorBrush x:Key="SuccessColor" Color="#4CAF50"/>
        <SolidColorBrush x:Key="WarningColor" Color="#FFC107"/>
        <SolidColorBrush x:Key="DangerColor" Color="#F44336"/>
        <SolidColorBrush x:Key="InfoColor" Color="#2196F3"/>

        <!-- Common Control Styles -->
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource TextColor}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>

        <Style x:Key="HeaderText" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{StaticResource CardColor}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Style.Triggers>
                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource AccentColor}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="ComboBox">
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="Background" Value="{StaticResource CardColor}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Style.Triggers>
                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource AccentColor}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="DatePicker">
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="Background" Value="{StaticResource CardColor}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>

        <Style TargetType="Button" x:Key="PrimaryButton">
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1B5E20"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="Button" x:Key="SecondaryButton" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="{StaticResource SecondaryColor}"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#37474F"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="Button" x:Key="DangerButton" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="{StaticResource DangerColor}"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#D32F2F"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="TabItem">
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border Name="Border" 
                                Background="{TemplateBinding Background}"
                                BorderThickness="0,0,0,3" 
                                BorderBrush="Transparent"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter ContentSource="Header" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource PrimaryColor}" />
                                <Setter Property="Foreground" Value="{StaticResource PrimaryColor}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F5F5F5" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Border" x:Key="CardBorder">
            <Setter Property="Background" Value="{StaticResource CardColor}"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="1" Opacity="0.1" Color="#000000"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="RadioButton">
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>

        <Style TargetType="CheckBox">
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>

        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="White"/>
            <Setter Property="AlternatingRowBackground" Value="#F9FAFC"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#EEEEEE"/>
            <Setter Property="VerticalGridLinesBrush" Value="#EEEEEE"/>
            <Setter Property="RowHeaderWidth" Value="0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#FAFAFA"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderBrush" Value="#EEEEEE"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>

        <Style TargetType="DataGridCell">
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#E8F5E9"/>
                    <Setter Property="Foreground" Value="{StaticResource TextColor}"/>
                    <Setter Property="BorderBrush" Value="Transparent"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="ProgressBar">
            <Setter Property="Height" Value="10"/>
            <Setter Property="Background" Value="#E0E0E0"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <Border Background="{TemplateBinding Background}" CornerRadius="5"/>
                            <Border x:Name="PART_Indicator" 
                                    Background="{TemplateBinding Foreground}" 
                                    CornerRadius="5" 
                                    HorizontalAlignment="Left"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style x:Key="DynamicProgressBarStyle" TargetType="ProgressBar">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Border Background="#E0E0E0" CornerRadius="5">
                            <Grid x:Name="PART_Track">
                                <Rectangle x:Name="PART_Indicator" RadiusX="5" RadiusY="5" Fill="Green" />
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="Value" Value="0">
                                <Setter TargetName="PART_Indicator" Property="Fill" Value="Red"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Grid Background="{StaticResource BackgroundColor}" Margin="0,0,0,-1" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" Width="1550" >
        <Grid.RenderTransform>
            <TransformGroup>
                <ScaleTransform/>
                <SkewTransform/>
                <RotateTransform Angle="-0.03"/>
                <TranslateTransform/>
            </TransformGroup>
        </Grid.RenderTransform>
        <Grid.ColumnDefinitions>


        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" MinHeight="80"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
        Background="{StaticResource PrimaryColor}" 
        CornerRadius="0,0,0,0" 
        Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="258"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="2" 
                    Orientation="Horizontal" 
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center" Height="50" Width="170">

                    <!-- Doctor Information -->
                    <StackPanel Orientation="Vertical" 
                        VerticalAlignment="Center"
                        HorizontalAlignment="Center"
                        Margin="0,0,15,0">
                        <TextBlock Text="DOKTOR PANELİ" 
                    FontSize="14" 
                    FontWeight="SemiBold" 
                    Foreground="White"
                    FontFamily="Segoe UI"
                    HorizontalAlignment="Center"
                    TextAlignment="Center"/>
                        <TextBlock x:Name="DoctorIdTextBlock"
                    Text="ID: {DoctorID}" 
                    FontSize="11" 
                    FontWeight="Normal" 
                    Foreground="#E0E0E0"
                    FontFamily="Segoe UI"
                    TextAlignment="Center" RenderTransformOrigin="0.5,0.5"
                    >
                            <TextBlock.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform/>
                                    <SkewTransform AngleX="-8.212"/>
                                    <RotateTransform/>
                                    <TranslateTransform X="1.056"/>
                                </TransformGroup>
                            </TextBlock.RenderTransform>
                        </TextBlock>
                    </StackPanel>

                    <!-- Doctor Profile Picture -->
                    <Border CornerRadius="25" 
                    Width="50" 
                    Height="50"
                    BorderBrush="White"
                    BorderThickness="2"
                    Background="LightGray"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center">
                        <Image x:Name="DoctorProfileImage"
                       Source="{Binding DoctorImagePath}"
                       Stretch="UniformToFill"
                       Width="46" 
                       HorizontalAlignment="Left" Margin="-1,0,0,0" Height="50" VerticalAlignment="Bottom"/>
                        <Border.Clip>
                            <EllipseGeometry Center="25,25" RadiusX="23" RadiusY="23"/>
                        </Border.Clip>
                    </Border>

                </StackPanel>


                <TextBlock Text="DİYABET TAKİP SİSTEMİ" 
                FontSize="22" 
                FontWeight="Bold" 
                Foreground="White"
                VerticalAlignment="Top"
                FontFamily="Segoe UI" Height="30" Margin="0,8,0,0"/>

                <!-- Doctor Profile Section - Centered -->

            </Grid>
        </Border>
        <!-- Main Content -->
        <TabControl Grid.Row="1" Margin="1,20,20,20" Background="Transparent" BorderThickness="0" Grid.ColumnSpan="3" Grid.Column="1">
            <!-- Patient Management Tab -->
            <TabItem Header="HASTA YÖNETİMİ">
                <Grid Margin="0,15,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="350"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- New Patient Form -->
                    <Border Grid.Column="0" 
                         Margin="0,0,10,0" 
                         Style="{StaticResource CardBorder}">
                        <StackPanel>
                            <TextBlock Text="YENİ HASTA KAYDI" 
                                    Style="{StaticResource HeaderText}"/>

                            <TextBlock Text="TC Kimlik No"/>
                            <TextBox x:Name="txtPatientTC" />

                            <TextBlock Text="Ad"/>
                            <TextBox x:Name="txtPatientName"/>

                            <TextBlock Text="Soyad"/>
                            <TextBox x:Name="txtPatientSurname"/>

                            <TextBlock Text="E-posta"/>
                            <TextBox x:Name="txtPatientEmail"/>

                            <TextBlock Text="Cinsiyet"/>
                            <ComboBox x:Name="cbPatientGender">
                                <ComboBoxItem Content="E"/>
                                <ComboBoxItem Content="K"/>
                                <ComboBoxItem Content="D"/>
                            </ComboBox>

                            <TextBlock Text="Doğum Tarihi"/>
                            <DatePicker x:Name="dpBirthDate"/>

                            <Button Content="HASTA KAYDET" 
                                 Click="BtnAddPatient_Click"
                                 Style="{StaticResource PrimaryButton}"/>
                        </StackPanel>
                    </Border>

                    <!-- Patient List -->
                    <Border Grid.Column="1" 
        Style="{StaticResource CardBorder}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <!-- Header -->
                                <RowDefinition Height="Auto"/>
                                <!-- Search Area -->
                                <RowDefinition Height="*"/>
                                <!-- DataGrid -->
                                <RowDefinition Height="Auto"/>
                                <!-- Footer -->
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Text="HASTA LİSTESİ" 
                Style="{StaticResource HeaderText}" Margin="0,0,0,12"/>

                            <!-- Search Area with Explicitly Styled Button -->
                            <Grid Grid.Row="1" Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="3*"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="txtPatientSearch" Grid.Column="0" Margin="5,5,282,5" Padding="10,8" />
                                <Button x:Name="btnFilter" 
                    Content="FİLTRELE"
                    VerticalAlignment="Center"
                    Height="35"
                    Click="BtnFilterPatients_Click"
                    Margin="373,0,130,0"
                    Background="#1E88E5"
                    Foreground="White"
                    BorderThickness="0"
                    FontWeight="Bold" RenderTransformOrigin="0.387,0.42"/>
                            </Grid>

                            <!-- DataGrid with enhanced mouse scrolling -->
                            <DataGrid Grid.Row="2" x:Name="dgPatients" 
                AutoGenerateColumns="False"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                HorizontalScrollBarVisibility="Visible"
                VerticalScrollBarVisibility="Visible"
                MinHeight="300"
                ScrollViewer.CanContentScroll="True"
                ScrollViewer.PanningMode="Both"
                MouseWheel="DataGrid_MouseWheel"
                PreviewMouseLeftButtonDown="DataGrid_MouseLeftButtonDown"
                PreviewMouseMove="DataGrid_MouseMove"
                PreviewMouseLeftButtonUp="DataGrid_MouseLeftButtonUp" SelectionChanged="dgPatients_SelectionChanged">
                                <DataGrid.Resources>
                                    <Style TargetType="{x:Type ScrollBar}">
                                        <Setter Property="Background" Value="LightGray"/>
                                        <Setter Property="Width" Value="18"/>
                                        <Setter Property="Height" Value="18"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="TC No" Binding="{Binding tc_kimlik}" Width="1.5*"/>
                                    <DataGridTextColumn Header="Ad" Binding="{Binding ad}" Width="0.7*"/>
                                    <DataGridTextColumn Header="Soyad" Binding="{Binding soyad}" Width="0.7*"/>
                                    <DataGridTemplateColumn Header="İşlemler" Width="1.5*">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Button Content="Düzenle" Margin="2" Padding="5,2"/>
                                                    <Button Content="Sil" Margin="2" Padding="5,2"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>

                            <!-- Footer area -->
                            <Grid Grid.Row="3" Margin="0,10,0,0">
                                <!-- Any footer content goes here -->
                            </Grid>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Patient Monitoring Tab -->
            <TabItem Header="HASTA TAKİBİ">
                <Grid Margin="0,15,0,0" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="350"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- New Patient Form -->
                    <Border Grid.Column="0" 
         Margin="0,0,10,0" 
      Style="{StaticResource CardBorder}" >
                        <StackPanel>
                            <TextBlock Text="HASTA BİLGİLERİ" 
                 Style="{StaticResource HeaderText}"/>

                            <!-- Patient ID Selection -->
                            <StackPanel Orientation="Horizontal" Margin="0,10,0,15">
                                <TextBlock Text="Hasta ID:" 
                     FontWeight="SemiBold" 
                     Foreground="{StaticResource PrimaryColor}"
                     VerticalAlignment="Center"
                     Margin="0,0,10,0"/>
                                <ComboBox x:Name="cmbPatientId" 
                     Width="100" 
                     SelectionChanged="cmbPatientId_SelectionChanged"/>
                            </StackPanel>

                            <Border Background="#F5F7FA" CornerRadius="70" Width="140" Height="140" 
                 HorizontalAlignment="Center" Margin="0,0,0,20">
                                <Image x:Name="imgPatient" Width="120" Height="120" Stretch="Uniform"/>
                            </Border>
                            <TextBlock Text="Ad Soyad:" 
                  FontWeight="SemiBold" 
                  Foreground="{StaticResource PrimaryColor}"/>
                            <TextBlock x:Name="txtPatientFullName" Margin="0,0,0,12"/>
                            <TextBlock Text="TC No:" 
                  FontWeight="SemiBold"
                  Foreground="{StaticResource PrimaryColor}"/>
                            <TextBlock x:Name="txtPatientTCNo" Margin="0,0,0,12"/>
                            <TextBlock Text="Yaş/Cinsiyet:" 
                  FontWeight="SemiBold"
                  Foreground="{StaticResource PrimaryColor}"/>
                            <TextBlock x:Name="txtPatientAgeGender" Margin="0,0,0,12"/>
                            <TextBlock Text="Son Ölçüm:" 
                  FontWeight="SemiBold"
                  Foreground="{StaticResource PrimaryColor}"/>
                            <TextBlock x:Name="txtLastMeasurement" Margin="0,0,0,12"/>
                            <TextBlock Text="Mevcut Diyet:" 
                  FontWeight="SemiBold"
                  Foreground="{StaticResource PrimaryColor}"/>
                            <TextBlock x:Name="txtCurrentDiet" Margin="0,0,0,12"/>
                            <TextBlock Text="Mevcut Egzersiz:" 
                  FontWeight="SemiBold"
                  Foreground="{StaticResource PrimaryColor}"/>
                            <TextBlock x:Name="txtCurrentExercise" Margin="0,0,0,20"/>
                            <Button Content="TEDAVİ PLANI GÜNCELLE" 
              Style="{StaticResource PrimaryButton}"
              Click="BtnUpdateTreatment_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Patient Data -->
                    <TabControl Grid.Column="1">

                        <TabItem Header="Hasta Bilgileri Yükleme">
                            <Grid  HorizontalAlignment="Left" VerticalAlignment="Top">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="140"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="50"/>
                                </Grid.RowDefinitions>

                                <!-- Date Selection and Patient Info Input -->
                                <Border Grid.Row="0" 
                        Style="{StaticResource CardBorder}"
                        Margin="10,10,0,0"
                        Width="795"
                        Height="130"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="240"/>
                                            <ColumnDefinition Width="240"/>
                                            <ColumnDefinition Width="180"/>
                                            <ColumnDefinition Width="120"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Date Selection Row -->
                                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Tarih:" Margin="10,10,0,0" VerticalAlignment="Center"/>
                                        <DatePicker Grid.Row="0" Grid.Column="0" x:Name="dtpTarihSecimi" Margin="55,10,0,0" Width="170" 
                                   SelectedDateChanged="dtpTarihSecimi_SelectedDateChanged" HorizontalAlignment="Left"/>

                                        <!-- Patient Selection Row (if needed) -->

                                        <!-- Quick Action Buttons -->
                                        <Button Grid.Column="1" 
                               x:Name="btnTumVerileriKaydet" Content="Tüm Verileri Kaydet" 
                               Margin="20,14,20,14" Width="200" Height="30"
                               Click="btnTumVerileriKaydet_Click"/>

                                        <Button Grid.Column="2" Grid.ColumnSpan="2" 
                               x:Name="btnTemizle" Content="Formu Temizle" 
                               Margin="0,19,100,19" Width="200" Height="30"
                               Click="btnTemizle_Click"/>
                                    </Grid>
                                </Border>

                                <!-- Main Content Area with Tabs for Different Sections -->
                                <Border Grid.Row="1"
                        Style="{StaticResource CardBorder}"
                        Margin="10,10,0,0"
                        Width="780"
                        Height="480"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top">
                                    <TabControl x:Name="tcPatientData" Margin="5">

                                        <!-- Symptom Tracking Tab -->
                                        <TabItem Header="Belirtiler">
                                            <Grid Margin="5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>

                                                <StackPanel Grid.Row="0" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,0,0,10">
                                                    <ComboBox x:Name="cmbBelirtiTuru" Width="150" Margin="5" 
                                                      SelectionChanged="cmbBelirtiTuru_SelectionChanged">
                                                        <ComboBoxItem Content="Poliüri (Sık idrara çıkma)"/>
                                                        <ComboBoxItem Content="Polifaji (Aşırı açlık hissi)"/>
                                                        <ComboBoxItem Content="Polidipsi (Aşırı susama hissi)"/>
                                                        <ComboBoxItem Content="Nöropati (El ve ayaklarda karıncalanma veya uyuşma hissi)"/>
                                                        <ComboBoxItem Content="Kilo kaybı"/>
                                                        <ComboBoxItem Content="Yorgunluk"/>
                                                        <ComboBoxItem Content="Yaraların yavaş iyileşmesi"/>
                                                        <ComboBoxItem Content="Bulanık görme"/>
                                                    </ComboBox>
                                                    <Button x:Name="btnBelirtiEkle" Content="Ekle" Margin="5" Click="btnBelirtiEkle_Click"/>
                                                </StackPanel>

                                                <ListBox x:Name="lstBelirtiler" Grid.Row="1" Grid.Column="0" Margin="5"/>

                                                <StackPanel Grid.Row="1" Grid.Column="1" VerticalAlignment="Top" Margin="5">
                                                    <Button x:Name="btnBelirtiSil" Content="Sil" Margin="0,0,0,5" Width="80"
                                           Click="btnBelirtiSil_Click"/>
                                                    <Button x:Name="btnBelirtiKaydet" Content="Kaydet" Margin="0" Width="80"
                                           Click="btnBelirtiKaydet_Click"/>
                                                </StackPanel>
                                            </Grid>
                                        </TabItem>

                                        <!-- Blood Sugar Tracking Tab -->
                                        <TabItem Header="Kan Şekeri">
                                            <Grid Margin="5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Input Controls -->
                                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                                    <TextBox x:Name="txtSaat"  Width="80" Margin="5"/>
                                                    <TextBox x:Name="txtSekerSeviyesi"  Width="120" Margin="5"/>
                                                    <Button x:Name="btnOlcumEkle" Content="Ölçüm Ekle" Margin="5" Click="btnOlcumEkle_Click"/>
                                                </StackPanel>

                                                <!-- Data Grid -->
                                                <DataGrid x:Name="dgKanSekeriOlcumleri" Grid.Row="1" Margin="5" AutoGenerateColumns="False"
                                         GridLinesVisibility="All" AlternatingRowBackground="#F5F7FA">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="Tarih" Binding="{Binding Tarih}" Width="100"/>
                                                        <DataGridTextColumn Header="Saat" Binding="{Binding Saat}" Width="100"/>
                                                        <DataGridTextColumn Header="Seviye (mg/dl)" Binding="{Binding Seviye}" Width="*"/>
                                                    </DataGrid.Columns>
                                                </DataGrid>

                                                <!-- Action Buttons -->
                                                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                                    <Button x:Name="btnOlcumSil" Content="Seçili Ölçümü Sil" Margin="5" 
                                           Click="btnOlcumSil_Click"/>
                                                    <Button x:Name="btnOlcumKaydet" Content="Tüm Ölçümleri Kaydet" Margin="5" 
                                           Click="btnOlcumKaydet_Click"/>
                                                </StackPanel>
                                            </Grid>
                                        </TabItem>

                                        <!-- Insulin Recommendation Tab -->
                                        <TabItem Header="İnsülin Önerisi">
                                            <Grid Margin="5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <Label Content="Ortalama Şeker:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="txtOrtalamaSeker" Grid.Row="0" Grid.Column="1" Margin="5" IsReadOnly="True"/>

                                                <Label Content="Önerilen Doz (ml):" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center"/>
                                                <TextBox x:Name="txtInsülinDoz" Grid.Row="0" Grid.Column="3" Margin="5"/>

                                                <Button x:Name="btnInsulinOneriKaydet" Content="İnsülin Önerisini Kaydet" 
                                       Grid.Row="1" Grid.Column="3" Margin="5" HorizontalAlignment="Right" 
                                       Click="btnInsulinOneriKaydet_Click"/>
                                            </Grid>
                                        </TabItem>

                                        <!-- Exercise Tracking Tab -->
                                        <TabItem Header="Egzersiz">
                                            <Grid Margin="5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Input Controls -->
                                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                                    <ComboBox x:Name="cmbEgzersizTuru" Width="150" Margin="5" 
                                             SelectionChanged="cmbEgzersizTuru_SelectionChanged">
                                                        <ComboBoxItem Content="Yürüyüş"/>
                                                        <ComboBoxItem Content="Bisiklet"/>
                                                        <ComboBoxItem Content="Klinik Egzersiz"/>

                                                    </ComboBox>
                                                    <Button x:Name="btnEgzersizEkle" Content="Egzersiz Ekle" Margin="5" 
                                           Click="btnEgzersizEkle_Click"/>
                                                </StackPanel>

                                                <!-- Data Grid -->
                                                <DataGrid x:Name="dgEgzersizListesi" Grid.Row="1" Margin="5" AutoGenerateColumns="False"
                                         GridLinesVisibility="All" AlternatingRowBackground="#F5F7FA">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="Tarih" Binding="{Binding Tarih}" Width="100"/>
                                                        <DataGridTextColumn Header="Egzersiz Türü" Binding="{Binding EgzersizTuru}" Width="*"/>
                                                        <DataGridCheckBoxColumn Header="Yapıldı" Binding="{Binding YapildiMi}" Width="100"/>
                                                    </DataGrid.Columns>
                                                </DataGrid>

                                                <!-- Action Buttons -->
                                                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                                    <Button x:Name="btnEgzersizSil" Content="Seçili Egzersizi Sil" Margin="5" 
                                           Click="btnEgzersizSil_Click"/>
                                                    <Button x:Name="btnEgzersizKaydet" Content="Tüm Egzersizleri Kaydet" Margin="5" 
                                           Click="btnEgzersizKaydet_Click"/>
                                                </StackPanel>
                                            </Grid>
                                        </TabItem>

                                        <!-- Diet Tracking Tab -->
                                        <TabItem Header="Diyet">
                                            <Grid Margin="5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Input Controls -->
                                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                                    <ComboBox x:Name="cmbDiyetTuru" Width="150" Margin="5" 
                                             SelectionChanged="cmbDiyetTuru_SelectionChanged">
                                                        <ComboBoxItem Content="Az Şekerli Diyet"/>
                                                        <ComboBoxItem Content="Şekersiz Diyet"/>
                                                        <ComboBoxItem Content="Dengeli Beslenme"/>

                                                    </ComboBox>
                                                    <Button x:Name="btnDiyetEkle" Content="Diyet Ekle" Margin="5" 
                                           Click="btnDiyetEkle_Click"/>
                                                </StackPanel>

                                                <!-- Data Grid -->
                                                <DataGrid x:Name="dgDiyetListesi" Grid.Row="1" Margin="5" AutoGenerateColumns="False"
                                         GridLinesVisibility="All" AlternatingRowBackground="#F5F7FA">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="Tarih" Binding="{Binding Tarih}" Width="100"/>
                                                        <DataGridTextColumn Header="Diyet Türü" Binding="{Binding DiyetTuru}" Width="*"/>
                                                        <DataGridCheckBoxColumn Header="Uygulandı" Binding="{Binding UygulandiMi}" Width="100"/>
                                                    </DataGrid.Columns>
                                                </DataGrid>

                                                <!-- Action Buttons -->
                                                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                                    <Button x:Name="btnDiyetSil" Content="Seçili Diyeti Sil" Margin="5" 
                                           Click="btnDiyetSil_Click"/>
                                                    <Button x:Name="btnDiyetKaydet" Content="Tüm Diyetleri Kaydet" Margin="5" 
                                           Click="btnDiyetKaydet_Click"/>
                                                </StackPanel>
                                            </Grid>
                                        </TabItem>

                                    </TabControl>
                                </Border>

                                <!-- Summary Statistics Panel -->
                                <Border Grid.Row="1"
                        Style="{StaticResource CardBorder}"
                        Margin="10,497,0,0"
                        Width="780"
                        Height="75"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0" Margin="10">
                                            <TextBlock Text="Toplam Belirti" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtTotalSymptoms" Text="{Binding TotalSymptoms}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Margin="10">
                                            <TextBlock Text="Ortalama Şeker" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtAverageBloodSugar" Text="{Binding AverageBloodSugar, StringFormat=\{0:F1\} mg/dL}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Margin="10">
                                            <TextBlock Text="Toplam Egzersiz" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtTotalExercises" Text="{Binding TotalExercises}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="3" Margin="10">
                                            <TextBlock Text="Aktif Diyet" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtActiveDiets" Text="{Binding ActiveDiets}"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                            </Grid>
                        </TabItem>


                        <TabItem Header="Kan Şekeri Takibi">
                            <Grid Width="830" Height="677" HorizontalAlignment="Left" VerticalAlignment="Top">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="140"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="50"/>
                                </Grid.RowDefinitions>

                                <!-- Measurement Input with Date and Time Picker -->
                                <Border Grid.Row="0" 
                Style="{StaticResource CardBorder}"
                Margin="10,10,0,0"
                Width="795"
                Height="130"
                HorizontalAlignment="Left"
                VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="240"/>
                                            <ColumnDefinition Width="240"/>
                                            <ColumnDefinition Width="40.8"/>
                                            <ColumnDefinition Width="139.2"/>
                                            <ColumnDefinition Width="120"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Date Selection Row -->
                                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Tarih:" Margin="10,19,0,0" VerticalAlignment="Top"/>
                                        <DatePicker Grid.Row="0" Grid.Column="0" x:Name="datePicker" Margin="55,10,0,0" Width="170" 
                            SelectedDateChanged="DatePicker_SelectedDateChanged" HorizontalAlignment="Left"/>

                                        <!-- Time Selection Row -->
                                        <TextBlock Grid.Row="0" Grid.Column="1" Text="Saat:" Margin="10,19,0,0" VerticalAlignment="Top"/>
                                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="timeInput" Margin="55,10,0,0" Width="100" 
                         HorizontalAlignment="Left" Text="08:00"/>

                                        <!-- Measurement Type Row -->
                                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Ölçüm:" Margin="10,21,0,0" VerticalAlignment="Top"/>
                                        <ComboBox Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" x:Name="cbMeasurementType" Margin="55,10,0,5" Width="390" 
                          HorizontalAlignment="Left" SelectionChanged="MeasurementType_SelectionChanged">
                                            <ComboBoxItem Content="Sabah Ölçümü (07:00-08:00)"/>
                                            <ComboBoxItem Content="Öğle Ölçümü (12:00-13:00)"/>
                                            <ComboBoxItem Content="İkindi Ölçümü (15:00-16:00)"/>
                                            <ComboBoxItem Content="Akşam Ölçümü (18:00-19:00)"/>
                                            <ComboBoxItem Content="Gece Ölçümü (22:00-23:00)"/>
                                        </ComboBox>

                                        <!-- Blood Sugar Value Row -->
                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Değer:" Margin="10,19,0,0" VerticalAlignment="Top"/>
                                        <TextBox Grid.Row="2" Grid.Column="0" x:Name="txtBloodSugarValue" Margin="55,10,0,0" Width="100" 
                         HorizontalAlignment="Left"/>
                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="mg/dL" Margin="160,19,0,0" VerticalAlignment="Top"/>



                                    </Grid>
                                </Border>

                                <!-- Blood Sugar Chart -->
                                <Border Grid.Row="1"
                Style="{StaticResource CardBorder}"
                Margin="10,10,0,0"
                Width="780"
                Height="400"
                HorizontalAlignment="Left"
                VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="32*"/>
                                            <ColumnDefinition Width="9*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <!-- Chart Title -->
                                        <TextBlock Grid.Row="0" 
                           Text="Kan Şekeri Takibi" 
                           FontSize="16" 
                           FontWeight="SemiBold" 
                           Margin="313,5,0,5" 
                           HorizontalAlignment="Left"/>

                                        <!-- Date Range Selector -->
                                        <StackPanel 
                            Orientation="Horizontal" 
                            HorizontalAlignment="Left" 
                            Margin="369,31,0,0"/>

                                        <!-- DataGrid for Blood Glucose Values -->
                                        <DataGrid Grid.Row="2" 
                          x:Name="dgBloodGlucose" 
                          AutoGenerateColumns="False" 
                          IsReadOnly="True" 
                          GridLinesVisibility="All" 
                          AlternatingRowBackground="#F5F7FA"
                          HorizontalGridLinesBrush="#E0E0E0"
                          VerticalGridLinesBrush="#E0E0E0"
                          BorderBrush="#E0E0E0"
                          BorderThickness="1"
                          HeadersVisibility="Column"
                          CanUserSortColumns="True"
                          Margin="10,10,10,10" Grid.ColumnSpan="2">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Tarih" 
                                            Binding="{Binding Tarih, StringFormat=\{0:dd.MM.yyyy\}}" 
                                            Width="100"/>
                                                <DataGridTextColumn Header="Saat" 
                                            Binding="{Binding Saat, StringFormat=\{0:HH:mm\}}" 
                                            Width="80"/>
                                                <DataGridTextColumn Header="Kan Şekeri (mg/dL)" 
                                            Binding="{Binding Seviye}" 
                                            Width="150">
                                                    <DataGridTextColumn.CellStyle>
                                                        <Style TargetType="DataGridCell">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding Seviye}" Value="{x:Null}">
                                                                    <Setter Property="Background" Value="White"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsLow}" Value="True">
                                                                    <Setter Property="Background" Value="#4CAF50"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsNormal}" Value="True">
                                                                    <Setter Property="Background" Value="#8BC34A"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsMediumHigh}" Value="True">
                                                                    <Setter Property="Background" Value="#FFC107"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsHigh}" Value="True">
                                                                    <Setter Property="Background" Value="#FF9800"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsVeryHigh}" Value="True">
                                                                    <Setter Property="Background" Value="#F44336"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </DataGridTextColumn.CellStyle>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Header="Durum" 
                                            Binding="{Binding StatusText}" 
                                            Width="120"/>
                                                <DataGridTemplateColumn Header="İşlemler" Width="80">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>

                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </Grid>
                                </Border>


                                <!-- Critical Levels -->
                                <Border Grid.Row="1" 
                Style="{StaticResource CardBorder}"
                Padding="0"
                Margin="10,497,0,0"
                Width="780"
                Height="40"
                HorizontalAlignment="Left"
                VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="156"/>
                                            <ColumnDefinition Width="156"/>
                                            <ColumnDefinition Width="156"/>
                                            <ColumnDefinition Width="156"/>
                                            <ColumnDefinition Width="156"/>
                                        </Grid.ColumnDefinitions>

                                        <Border Grid.Column="0" Background="#4CAF50" CornerRadius="6,0,0,6" Padding="12">
                                            <TextBlock Text="&lt; 70 mg/dL (Hipoglisemi)" 
                               Foreground="White" 
                               TextAlignment="Center"
                               FontWeight="SemiBold"/>
                                        </Border>

                                        <Border Grid.Column="1" Background="#8BC34A" Padding="12">
                                            <TextBlock Text="70-110 mg/dL (Normal)" 
                               Foreground="White" 
                               TextAlignment="Center"
                               FontWeight="SemiBold"/>
                                        </Border>

                                        <Border Grid.Column="2" Background="#FFC107" Padding="12">
                                            <TextBlock Text="111-150 mg/dL (Orta Yüksek)" 
                               Foreground="White" 
                               TextAlignment="Center"
                               FontWeight="SemiBold"/>
                                        </Border>

                                        <Border Grid.Column="3" Background="#FF9800" Padding="12">
                                            <TextBlock Text="151-200 mg/dL (Yüksek)" 
                               Foreground="White" 
                               TextAlignment="Center"
                               FontWeight="SemiBold"/>
                                        </Border>

                                        <Border Grid.Column="4" Background="#F44336" CornerRadius="0,6,6,0" Padding="12">
                                            <TextBlock Text="&gt; 200 mg/dL (Çok Yüksek)" 
                               Foreground="White" 
                               TextAlignment="Center"
                               FontWeight="SemiBold"/>
                                        </Border>
                                    </Grid>
                                </Border>

                                <!-- Statistics Summary Panel -->
                                <Border Grid.Row="1"
                Style="{StaticResource CardBorder}"
                Margin="10,543,0,0"
                Width="780"
                Height="75"
                HorizontalAlignment="Left"
                VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0" Margin="10">
                                            <TextBlock Text="Ortalama" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtAverage" Text="{Binding AverageReading, StringFormat=\{0:F1\} mg/dL}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Margin="10">
                                            <TextBlock Text="Minimum" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtMinimum" Text="{Binding MinimumReading, StringFormat=\{0\} mg/dL}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Margin="10">
                                            <TextBlock Text="Maksimum" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtMaximum" Text="{Binding MaximumReading, StringFormat=\{0\} mg/dL}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="3" Margin="10">
                                            <TextBlock Text="Ölçüm Sayısı" FontWeight="SemiBold"/>
                                            <TextBlock x:Name="txtMeasurementCount" Text="{Binding MeasurementCount}"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <!-- Export/Print Buttons -->

                            </Grid>
                        </TabItem>

                        <TabItem Header="Egzersiz - Diyet Takibi">
                            <Grid Width="800" Height="600" HorizontalAlignment="Left" VerticalAlignment="Top">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="130"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Exercise & Diet Stats with fixed widths -->
                                <Grid Grid.Row="0" Margin="10,10,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="260"/>
                                        <ColumnDefinition Width="260"/>
                                        <ColumnDefinition Width="260"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Exercise Compliance Card -->
                                    <!-- Exercise Compliance Card -->
                                    <Border Grid.Column="0" Style="{StaticResource CardBorder}" Margin="5,5,0,0" Width="255" HorizontalAlignment="Left">
                                        <StackPanel>
                                            <TextBlock Text="EGZERSİZ UYUMU" 
                                          FontWeight="Bold" 
                                          Foreground="{StaticResource PrimaryColor}"
                   Margin="0,0,0,10"/>
                                           
                                            <ProgressBar x:Name="pbEgzersiz" Height="10" Margin="0,0,0,8" Minimum="0" Maximum="100"
             ValueChanged="ProgressBar_ValueChanged"/>
                                            
                                            <TextBlock x:Name="txtEgzersizYuzde" Text="%0 Uyum (Son 30 gün)" HorizontalAlignment="Center"/>
                                            
                                        </StackPanel>
                                    </Border>

                                    <!-- Diet Compliance Card -->
                                    <Border Grid.Column="1" Style="{StaticResource CardBorder}" Margin="5,5,0,0" Width="255" HorizontalAlignment="Left">
                                        <StackPanel>
                                            <TextBlock Text="DİYET UYUMU" 
                                             FontWeight="Bold" 
                                             Foreground="{StaticResource PrimaryColor}"
                                              Margin="0,0,0,10"/>
                                            
                                            <ProgressBar x:Name="pbDiyet" Height="10" Margin="0,0,0,8" Minimum="0" Maximum="100" 
                                             ValueChanged="ProgressBar_ValueChanged"/>
                                            <TextBlock x:Name="txtDiyetYuzde" Text="%0 Uyum (Son 30 gün)" HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- General Compliance Card -->
                                    <Border Grid.Column="2" Style="{StaticResource CardBorder}" Margin="5,5,0,0" Width="255" HorizontalAlignment="Left">
                                        <StackPanel>
                                            <TextBlock Text="GENEL UYUM" 
                                             FontWeight="Bold" 
                                             Foreground="{StaticResource PrimaryColor}"
                                             Margin="0,0,0,10"/>
                                            
                                            <ProgressBar x:Name="pbGenel" Height="10" Margin="0,0,0,8" Minimum="0" Maximum="100"
                                             ValueChanged="ProgressBar_ValueChanged"/>
                                            <TextBlock x:Name="txtGenelYuzde" Text="%0 Uyum (Son 30 gün)" HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                </Grid>

                                <!-- Exercise & Diet History -->
                                <Border Grid.Row="1" Style="{StaticResource CardBorder}" Margin="10" Width="780" Height="450">
                                    <DataGrid x:Name="dgExerciseDiet" AutoGenerateColumns="False" HorizontalAlignment="Left" VerticalAlignment="Top">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Header="Tarih" Binding="{Binding Date}" Width="150"/>
                                            <DataGridTextColumn Header="Egzersiz Türü" Binding="{Binding ExerciseType}" Width="170"/>
                                            <DataGridCheckBoxColumn Header="Yapıldı" Binding="{Binding ExerciseCompleted}" IsReadOnly="True" Width="90"/>
                                            <DataGridCheckBoxColumn Header="Uygulandı" Binding="{Binding DietFollowed}" IsReadOnly="True" Width="90"/>

                                            <DataGridTextColumn Header="Diyet Türü" Binding="{Binding DietType}" Width="170"/>

                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Border>
                            </Grid>
                        </TabItem>

                        <TabItem Header="Kan ve Hastalıklara Göre Filtreleme">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="340" MinWidth="250"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="340" MinWidth="250"/>
                                </Grid.ColumnDefinitions>

                                <!-- ScrollViewer to enable scrolling for the entire content -->
                                <ScrollViewer Grid.ColumnSpan="3" VerticalScrollBarVisibility="Auto">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="340" MinWidth="250"/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="301" MinWidth="250"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Left Panel: Filter and Search -->
                                        <Border Grid.Column="0" 
                    Margin="10,10,5,10" 
                    Style="{StaticResource CardBorder}">
                                            <StackPanel>
                                                <TextBlock Text="HASTA FİLTRELEME" 
                              Style="{StaticResource HeaderText}"/>

                                                <!-- Search Bar -->
                                                <TextBlock Text="Hasta Ara" Margin="0,10,0,5"/>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBox x:Name="txtSearch" Grid.Column="0" Margin="0,0,5,0"/>
                                                    <Button x:Name="btnSearch" Grid.Column="1" Content="Ara" Click="BtnSearch_Click"/>
                                                </Grid>

                                                <!-- Blood Level Filters -->
                                                <Expander Header="Kan Değerleri Filtresi" Margin="0,15,0,0" IsExpanded="True">
                                                    <StackPanel Margin="10,5,0,5">
                                                        <TextBlock Text="Kan Şekeri (mg/dL)" Margin="0,5,0,5"/>
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="*"/>
                                                            </Grid.ColumnDefinitions>
                                                            <TextBox x:Name="txtGlucoseMin" Grid.Column="0" />
                                                            <TextBlock Text="-" Grid.Column="1" Margin="5,0" VerticalAlignment="Center"/>
                                                            <TextBox x:Name="txtGlucoseMax" Grid.Column="2"/>
                                                        </Grid>
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="*"/>
                                                            </Grid.ColumnDefinitions>
                                                        </Grid>
                                                    </StackPanel>
                                                </Expander>

                                                <!-- Symptom Filters -->
                                                <Expander Header="Semptom Filtresi" Margin="0,10,0,0" IsExpanded="True">
                                                    <StackPanel Margin="10,5,0,5">
                                                        <CheckBox x:Name="cbFilterPolyuria" Content="Poliüri (Sık idrara çıkma)"/>
                                                        <CheckBox x:Name="cbFilterPolydipsia" Content="Polidipsi (Aşırı susama)"/>
                                                        <CheckBox x:Name="cbFilterPolyphagia" Content="Polifaji (Aşırı açlık)"/>
                                                        <CheckBox x:Name="cbFilterNeuropathy" Content="Nöropati (Uyuşma)"/>
                                                        <CheckBox x:Name="cbFilterWeightLoss" Content="Kilo kaybı"/>
                                                        <CheckBox x:Name="cbFilterFatigue" Content="Yorgunluk"/>
                                                        <CheckBox x:Name="cbFilterSlowHealing" Content="Yaraların yavaş iyileşmesi"/>
                                                        <CheckBox x:Name="cbFilterBlurredVision" Content="Bulanık görme"/>
                                                        <CheckBox x:Name="cbFilterFrequentInfections" Content="Sık enfeksiyonlar"/>
                                                    </StackPanel>
                                                </Expander>

                                                <!-- Filter Buttons -->
                                                <StackPanel Orientation="Horizontal" Margin="0,15,0,0">
                                                    <Button x:Name="btnApplyFilters" Content="FİLTRELERİ UYGULA" 
                                Style="{StaticResource PrimaryButton}"
                                Click="BtnApplyFilters_Click"
                                Width="160"/>
                                                    <Button x:Name="btnClearFilters" Content="TEMİZLE" 
                                Margin="10,0,0,0"
                                Click="BtnClearFilters_Click"
                                Width="100"/>
                                                </StackPanel>
                                            </StackPanel>
                                        </Border>

                                        <!-- Middle Panel: Patient List -->
                                        <Border Grid.Column="1" 
                    Margin="5,10,0,10" 
                    Style="{StaticResource CardBorder}" Grid.ColumnSpan="2" HorizontalAlignment="Left" Width="606">
                                            <StackPanel>
                                                <TextBlock Text="HASTA LİSTESİ" 
                              Style="{StaticResource HeaderText}"
                              VerticalAlignment="Top"/>

                                                <!-- ListView with Fixed Height -->
                                                <ListView x:Name="lvPatients" 
                              SelectionChanged="LvPatients_SelectionChanged"
                              ScrollViewer.VerticalScrollBarVisibility="Auto"
                              Height="450"
                              Margin="0,5,0,0">
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridViewColumn Header="Hasta No" DisplayMemberBinding="{Binding PatientId}" Width="70"/>
                                                            <GridViewColumn Header="Ad Soyad" DisplayMemberBinding="{Binding FullName}" Width="120"/>
                                                            <GridViewColumn Header="Yaş" DisplayMemberBinding="{Binding Age}" Width="40"/>
                                                            <GridViewColumn Header="E mail" DisplayMemberBinding="{Binding HbA1c}" Width="60"/>
                                                            <GridViewColumn Header="Cinsiyet" DisplayMemberBinding="{Binding HbA1c}" Width="60"/>
                                                            <GridViewColumn Header="Kan Şekeri" DisplayMemberBinding="{Binding GlucoseLevel}" Width="80"/>

                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>
                                            </StackPanel>
                                        </Border>
                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </TabItem>

                        <TabItem Header="Laboratuvar Sonuçları">
                            <Grid Width="834" Height="600" HorizontalAlignment="Left" VerticalAlignment="Top">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="7"/>
                                    <RowDefinition Height="51*"/>
                                    <RowDefinition Height="542*"/>
                                </Grid.RowDefinitions>

                                <!-- Add Lab Results Form -->

                                <!-- Tabbed Content for Lab Results, Charts -->
                                <TabControl Margin="10,1,10,15" Grid.RowSpan="2" Grid.Row="1">
                                    <!-- Tab 1: Lab Results History -->

                                    <!-- Tab 2: Blood Sugar Trend Chart -->
                                    <TabItem Header="Kan Şekeri Grafiği">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <!-- Chart Controls -->
                                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Zaman Aralığı:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                                <ComboBox x:Name="cbTimeRange" Width="136" Margin="0,0,15,0" Height="32">
                                                    <ComboBoxItem Content="Son 1 Ay" IsSelected="True"/>
                                                    <ComboBoxItem Content="Son 3 Ay"/>
                                                    <ComboBoxItem Content="Son 6 Ay"/>
                                                    <ComboBoxItem Content="Son 1 Yıl"/>
                                                    <ComboBoxItem Content="Tüm Zamanlar"/>
                                                </ComboBox>

                                                <TextBlock Text="Görüntüleme:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                                <ComboBox x:Name="cbChartView" Width="150">
                                                    <ComboBoxItem Content="Günlük Ortalama" IsSelected="True"/>
                                                    <ComboBoxItem Content="Haftalık Ortalama"/>
                                                    <ComboBoxItem Content="Aylık Ortalama"/>
                                                </ComboBox>

                                                <Button x:Name="btnGuncelleChart" Content="Güncelle" Margin="15,0,0,0" Width="85" Height="32" Click="btnGuncelleChart_Click"/>
                                            </StackPanel>

                                            <!-- Blood Sugar Line Chart -->
                                            <!-- This would be a chart control in real implementation -->
                                            <Border Grid.Row="1" Background="#F5F5F5" Margin="5" BorderBrush="#CCCCCC" BorderThickness="1">
                                                <!-- Placeholder for actual chart -->
                                                <lvc:CartesianChart x:Name="bloodSugarChart"
                    Grid.Row="1"
                    Margin="5"
                    LegendLocation="Top"/>

                                            </Border>
                                        </Grid>
                                    </TabItem>

                                    <!-- Tab 3: Diet & Exercise Correlation -->
                                    <TabItem Header="Diyet ve Egzersiz Etkisi">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!-- Filters -->
                                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Diyet Türü:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                                <ComboBox x:Name="cbDietType" Width="136" Margin="0,0,15,0" Height="32">
                                                    <ComboBoxItem Content="Tümü" IsSelected="True"/>
                                                    <ComboBoxItem Content="Az Şekeri Diyet"/>
                                                    <ComboBoxItem Content="Şekersiz Dİyet"/>
                                                    <ComboBoxItem Content="Dengeli Beslenme"/>

                                                </ComboBox>

                                                <TextBlock Text="Egzersiz Sıklığı:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                                <ComboBox x:Name="cbExerciseFreq" Width="140" Height="34" RenderTransformOrigin="0.509,0.762">
                                                    <ComboBoxItem Content="Tümü" IsSelected="True"/>
                                                    <ComboBoxItem Content="Haftada 1-2"/>
                                                    <ComboBoxItem Content="Haftada 3-4"/>
                                                    <ComboBoxItem Content="Haftada 5+"/>
                                                    <ComboBoxItem Content="Hiç"/>
                                                </ComboBox>

                                                <Button x:Name="btnAnalizEt" Content="Analiz Et" Margin="15,0,0,0" Width="100" Height="32" Click="btnAnalizEt_Click"/>
                                            </StackPanel>

                                            <!-- Correlation Chart Area -->
                                            <Border Grid.Row="1" Background="#F5F5F5" Margin="5" BorderBrush="#CCCCCC" BorderThickness="1">
                                                <!-- Placeholder for actual correlation chart -->
                                                <lvc:CartesianChart x:Name="dietExcerciseChart"
                    Grid.Row="1"
                    Margin="5"
                    LegendLocation="Top"/>

                                            </Border>

                                            <!-- Data Summary -->
                                        </Grid>
                                    </TabItem>
                                </TabControl>
                            </Grid>
                        </TabItem>

                        <TabItem Header="Kan Şekeri Uyarı Takibi">
                            <Grid Width="838" Height="845" HorizontalAlignment="Left" VerticalAlignment="Top">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- Blood Sugar Monitoring and Warning System -->
                                <Border Grid.Row="0"
        BorderBrush="#E0E0E0"
        BorderThickness="1"
        CornerRadius="5"
        Background="White"
        Padding="15"
        Margin="10,10,0,0"
        Width="759"
        HorizontalAlignment="Left"
        VerticalAlignment="Top" Height="435">
                                    <StackPanel>
                                        <TextBlock Text="KAN ŞEKERİ TAKİP VE UYARI SİSTEMİ" 
                FontSize="18"
                FontWeight="Bold"
                Foreground="#2E5D9F"
                Margin="0,0,0,15"/>

                                        <!-- Blood Sugar Entry Section -->
                                        <Grid Margin="0,10,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBox Grid.Column="0" x:Name="txtBloodSugarValues" 
                    Width="180"
                    Margin="0,0,10,0"
                   />

                                            <ComboBox Grid.Column="1" x:Name="cmbMeasurementTime" 
                    Width="180"
                    Margin="0,0,10,0"
                   >
                                                <ComboBoxItem Content="Açlık"/>
                                                <ComboBoxItem Content="Kahvaltı Sonrası"/>
                                                <ComboBoxItem Content="Öğle Öncesi"/>
                                                <ComboBoxItem Content="Öğle Sonrası"/>
                                                <ComboBoxItem Content="Akşam Öncesi"/>
                                                <ComboBoxItem Content="Akşam Sonrası"/>
                                                <ComboBoxItem Content="Yatmadan Önce"/>
                                            </ComboBox>

                                            <Button Grid.Column="2" x:Name="btnAddMeasurement"
                    Content="ÖLÇÜM EKLE"
                    Background="#2E5D9F"
                    Foreground="White"
                    Width="150"
                    HorizontalAlignment="Left"
                    Click="BtnAddMeasurement_Click"/>
                                        </Grid>

                                        <!-- Daily Measurements Display -->
                                        <TextBlock Text="GÜNLÜK ÖLÇÜMLER" FontWeight="SemiBold"/>
                                        <ListView x:Name="lstDailyMeasurements" 
                Height="120" 
                Margin="0,5,0,15"
                BorderBrush="#E0E0E0"
                BorderThickness="1">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="180"/>
                                                            <ColumnDefinition Width="180"/>
                                                            <ColumnDefinition Width="180"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding Time}" FontSize="14"/>
                                                        <TextBlock Grid.Column="1" Text="{Binding Value}" FontSize="14"/>
                                                        <TextBlock Grid.Column="2" Text="{Binding MeasurementTime}" FontSize="14"/>
                                                        <TextBlock Grid.Column="3" Text="{Binding Status}" FontSize="14" 
                                       Foreground="{Binding StatusColor}"/>
                                                    </Grid>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                        <TextBlock Text="UYARILAR" FontWeight="SemiBold"/>

                                        <!-- Warning Section -->
                                        <ListView x:Name="lstWarnings" 
                Height="120" 
                Margin="0,5,0,15"
                BorderBrush="#E0E0E0"
                BorderThickness="1">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="180"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding Time}" FontSize="14"/>
                                                        <TextBlock Grid.Column="1" Text="{Binding Message}" FontSize="14" 
                                       Foreground="{Binding WarningColor}"/>
                                                    </Grid>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                    </StackPanel>
                                </Border>

                                <!-- Warning System Configuration and Statistics -->
                                <Border Grid.Row="1"
        BorderBrush="#E0E0E0"
        BorderThickness="1"
        CornerRadius="5"
        Background="White"
        Padding="15"
        Margin="10,10,10,10"
        Width="780"
        HorizontalAlignment="Left"
        VerticalAlignment="Top">
                                    <StackPanel>
                                        <TextBlock Text="UYARI SİSTEMİ KURALLARI" 
                FontSize="18"
                FontWeight="Bold"
                Foreground="#2E5D9F"
                Margin="0,0,0,15"/>

                                        <!-- Warning Rules Display -->
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="400"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!-- Rule 1 -->
                                            <Border Grid.Row="0" Grid.Column="0" 
                       Background="#FFF9E6" 
                       BorderBrush="#FFCC00" 
                       BorderThickness="1" 
                       CornerRadius="3"
                       Padding="10"
                       Margin="0,0,10,10">
                                                <StackPanel>
                                                    <TextBlock Text="Ölçüm Eksik Uyarısı" 
                                  FontWeight="SemiBold"/>
                                                    <TextBlock Text="Gün içinde hiç ölçüm yapılmadıysa, gün sonunda otomatik olarak oluşturulur ve doktora bildirim gönderilir." 
                                  TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- Rule 2 -->
                                            <Border Grid.Row="0" Grid.Column="1" 
                       Background="#EFF8FF" 
                       BorderBrush="#4D94DB" 
                       BorderThickness="1" 
                       CornerRadius="3"
                       Padding="10"
                       Margin="0,0,0,10">
                                                <StackPanel>
                                                    <TextBlock Text="Ölçüm Yetersiz Uyarısı" 
                                  FontWeight="SemiBold"/>
                                                    <TextBlock Text="Gün içinde 3'ten az ölçüm girilirse, gün sonunda oluşturulur ve doktora bildirilir." 
                                  TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- Rule 3 -->
                                            <Border Grid.Row="1" Grid.Column="0" 
                       Background="#FFEBEB" 
                       BorderBrush="#FF4D4D" 
                       BorderThickness="1" 
                       CornerRadius="3"
                       Padding="10"
                       Margin="0,0,10,10">
                                                <StackPanel>
                                                    <TextBlock Text="Acil Düşük Şeker Uyarısı" 
                                  FontWeight="SemiBold"/>
                                                    <TextBlock Text="Ölçümlerde kritik eşik değerinin altına düşüldüğünde (&lt;70 mg/dL) doktora anında acil uyarı gönderilir." 
                                  TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- Rule 4 -->
                                            <Border Grid.Row="1" Grid.Column="1" 
                       Background="#FFEBEB" 
                       BorderBrush="#FF4D4D" 
                       BorderThickness="1" 
                       CornerRadius="3"
                       Padding="10"
                       Margin="0,0,0,10">
                                                <StackPanel>
                                                    <TextBlock Text="Acil Yüksek Şeker Uyarısı" 
                                  FontWeight="SemiBold"/>
                                                    <TextBlock Text="Ölçümlerde kritik eşik değerinin üstüne çıkıldığında (&gt;200 mg/dL) doktora anında acil uyarı gönderilir." 
                                  TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- Normal Range Info -->
                                            <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                       Background="#EDFAF1" 
                       BorderBrush="#1DB954" 
                       BorderThickness="1" 
                       CornerRadius="3"
                       Padding="10"
                       Margin="0,0,0,15">
                                                <StackPanel>
                                                    <TextBlock Text="Normal Ölçüm Aralığı" 
                                  FontWeight="SemiBold"/>
                                                    <TextBlock Text="Normal seviye (70–110 mg/dL) ölçümleri için herhangi bir uyarı oluşturulmaz." 
                                  TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>
                                        </Grid>

                                        <!-- Warning System Statistics -->


                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="142*"/>
                                                <ColumnDefinition Width="45*"/>
                                                <ColumnDefinition Width="187*"/>
                                                <ColumnDefinition Width="187*"/>
                                                <ColumnDefinition Width="187*"/>
                                            </Grid.ColumnDefinitions>
                                        </Grid>

                                        <!-- Doctor Notification Settings -->
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </TabItem>

            <!-- Dashboard Tab -->


            <!-- Reports Tab -->
            <TabItem Header="RAPORLAR">
                <Grid Margin="0,15,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Report Filters -->
                    <Border Grid.Row="0" 
                         Style="{StaticResource CardBorder}"
                         Margin="0,0,0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <ComboBox Grid.Column="0" x:Name="cbReportType" Margin="0,0,10,0">
                                <ComboBoxItem Content="Hasta İlerleme Raporu"/>
                                <ComboBoxItem Content="Genel İstatistikler"/>
                                <ComboBoxItem Content="Tedavi Etkinliği Raporu"/>
                                <ComboBoxItem Content="Uyum Analizi"/>
                            </ComboBox>

                            <DatePicker Grid.Column="1" x:Name="dpReportStartDate" Margin="0,0,10,0"/>

                            <DatePicker Grid.Column="2" x:Name="dpReportEndDate" Margin="0,0,10,0"/>

                            <Button Grid.Column="3" Content="RAPOR OLUŞTUR" 
                                 Style="{StaticResource PrimaryButton}"
                                 Click="BtnGenerateReport_Click"/>
                        </Grid>
                    </Border>

                    <!-- Report Content -->
                    <Border Grid.Row="1" 
                         Style="{StaticResource CardBorder}">
                        <Grid x:Name="reportContentArea">
                            <!-- Report content will be loaded here -->
                            <TextBlock Text="Rapor oluşturmak için yukarıdaki filtreleri kullanın." 
                                    HorizontalAlignment="Center" 
                                    VerticalAlignment="Center" 
                                    FontSize="16" 
                                    Foreground="{StaticResource LightTextColor}"/>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Settings Tab -->

        </TabControl>
    </Grid>

</Window>
